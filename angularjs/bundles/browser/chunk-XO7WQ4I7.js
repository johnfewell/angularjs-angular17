import{a as D,b as M,c as Q,d as N,e as A,f as B}from"./chunk-ZV6MEAMY.js";import{$ as d,Da as O,M as c,N as C,P as E,T as m,V as T,a as h,aa as r,b as v,ca as y,ea as u,fa as p,ga as f,ha as I,ka as b,la as k,ma as w,na as x,oa as F,r as g,w as a,wa as S,x as _,xa as V,ya as R}from"./chunk-PEGOPAQC.js";var j=["todoInputRef"];function q(n,i){if(n&1){let l=y();d(0,"div",6)(1,"input",7,8),u("focus",function(t){a(l);let o=p();return _(o.handleFocus(t))})("blur",function(t){a(l);let o=p();return _(o.handleBlur(t))})("keyup.enter",function(){a(l);let t=p();return _(t.updateTodo())}),r(),d(3,"label",9),f(4," Edit Todo Input "),r()()}if(n&2){let l=p();c(1),m("formControl",l.titleFormControl)}}var P=(n,i)=>({completed:n,editing:i}),ee=(()=>{let i=class i{set todo(e){this._todo=e,console.log("todo input",e)}get todo(){return this._todo}constructor(e){this.todoSerivce=e,this._todo={id:0,title:"",completed:!1},this.index=0,this.deleteEvent=new E,this.titleFormControl=new Q(""),this.isEditing=!1}toggleTodo(){this.todoSerivce.toggleTodo(this.todo.id),this.todo.completed=!this.todo.completed}removeTodo(){this.deleteEvent.emit(this.todo)}startEdit(){this.isEditing=!0}handleBlur(e){this.isEditing=!1}handleFocus(e){this.titleFormControl.setValue(this.todo.title)}updateTodo(){let e=this.titleFormControl.getRawValue()?.trimEnd();if(!e)this.deleteEvent.emit(this.todo);else{let t=v(h({},this.todo),{title:e});this.todoSerivce.saveEdits(t)}this.isEditing=!1}ngAfterViewChecked(){this.isEditing&&this.inputRef?.nativeElement.focus()}};i.\u0275fac=function(t){return new(t||i)(C(O))},i.\u0275cmp=g({type:i,selectors:[["app-todo-item"]],viewQuery:function(t,o){if(t&1&&x(j,5),t&2){let s;w(s=F())&&(o.inputRef=s.first)}},inputs:{todo:"todo",index:"index"},outputs:{deleteEvent:"deleteEvent"},standalone:!0,features:[b],decls:7,vars:7,consts:[[2,"border-bottom","1px solid #ededed",3,"ngClass"],[1,"view"],["type","checkbox",1,"toggle",3,"checked","click"],[3,"dblclick"],[1,"destroy",3,"click"],["class","input-container",4,"ngIf"],[1,"input-container"],["id","edit-todo-input",1,"edit",3,"formControl","focus","blur","keyup.enter"],["todoInputRef",""],["htmlFor","edit-todo-input",1,"visually-hidden"]],template:function(t,o){t&1&&(d(0,"li",0)(1,"div",1)(2,"input",2),u("click",function(){return o.toggleTodo()}),r(),d(3,"label",3),u("dblclick",function(){return o.startEdit()}),f(4),r(),d(5,"button",4),u("click",function(){return o.removeTodo()}),r()(),T(6,q,5,1,"div",5),r()),t&2&&(m("ngClass",k(4,P,o.todo.completed,o.isEditing)),c(2),m("checked",o.todo.completed),c(2),I(o.todo.title),c(2),m("ngIf",o.isEditing))},dependencies:[R,S,V,A,D,M,B,N],styles:["li[_ngcontent-%COMP%]{border-bottom:1px solid #ededed}"],changeDetection:0});let n=i;return n})();export{ee as a};
